---
title: "과제: CBV 사용한 DRF, MySQL 연동"
author: mminzy22
date: 2025-01-22 19:00:00 +0900
categories: [Django]
tags: [Bootcamp, Python, Django, DRF, MySQL, TIL]
description: "클래스 기반 뷰(CBV)를 사용하여 Django Rest Framework(DRF)와 MySQL을 통합하는 방법을 다룹니다."
pin: false
---


### 가상환경 생성 및 활성화

```bash
python -m venv venv
```

- bash

```bash
source venv/Scripts/activate
```

- powershell

```bash
.\venv\Scripts\activate
```

### 가상환경에 다운로드1

- Django 다운로드
    
   ```bash
   pip install Django==4.2
   ```
    
- `requirements.txt` 파일에 내용 저장
    
   ```bash
   pip freeze > requirements.txt
   ```

### 프로젝트 생성

```bash
django-admin startproject project03 .
```

### 가상환경에 다운로드2

- `python manage.py shell` 명령어로 쉘을 열 수 있지만 Django 기본 Shell보다 더 많은 기능이 있는 shell_plus를 제공하고 있습니다.
- django-extensions 다운로드
    
   ```bash
   pip install django-extensions
   ```
    
- django-extensions 설정
   - `settings.py` 파일에 `INSTALLED_APPS` 에 추가하기

   ```python
   "django_extensions",
   ```
   {: file="project_name/settings.py" }
            
   - 실행은 `python manage.py shell_plus` 이 명령어로 합니다.

- ipython은 python 기본 Shell에 여러가지 기능을 더한것입니다.
- 예를 들어 자동완성, 코드 색상 강조와 같은 기능이 있습니다.
- ipython 다운로드

```bash
pip install ipython
```

### 앱 생성

```bash
python manage.py startapp accounts
```

```bash
python manage.py startapp posts
```

```bash
python manage.py startapp core
```


### 앱 등록
    
   ```python
   INSTALLED_APPS = [
      'django.contrib.admin',
      'django.contrib.auth',
      'django.contrib.contenttypes',
      'django.contrib.sessions',
      'django.contrib.messages',
      'django.contrib.staticfiles',

      # Local app
      'accounts',
      'posts',
      'core',
   ]
   ```
   {: file="project_name/settings.py" }

### 앱 URL 분리
    
   ```python
   from django.contrib import admin
   from django.urls import path, include

   urlpatterns = [
      path('admin/', admin.site.urls),
      path('accounts/', include('accounts.urls')),
      path('posts/', include('posts.urls')),
      path('', include('core.urls')),
   ]

   ```
   {: file="project_name/urls.py" }
    
- 각 앱에 `urls.py` 파일 생성
    
   ```python
   from django.urls import path
   from . import views

   urlpatterns = []

   ```
   {: file="core/urls.py" }

   ```python
   from django.urls import path
   from . import views

   app_name = "accounts"

   urlpatterns = []
   ```
   {: file="accounts/urls.py" }

   ```python
   from django.urls import path
   from . import views

   app_name = "posts"

   urlpatterns = []
   ```
   {: file="posts/urls.py" }

### `base.html` 작성
    
   ```python
   TEMPLATES = [
      {
         'BACKEND': 'django.template.backends.django.DjangoTemplates',
         'DIRS': [BASE_DIR /'templates'],
         'APP_DIRS': True,
         'OPTIONS': {
               'context_processors': [
                  'django.template.context_processors.debug',
                  'django.template.context_processors.request',
                  'django.contrib.auth.context_processors.auth',
                  'django.contrib.messages.context_processors.messages',
               ],
         },
      },
   ]
   ```
   {: file="settings.py" }
    
    
   ```html
   {% raw %}
   <!DOCTYPE html>
   <html lang="en">
   <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>{% block title %}Default Title{% endblock %}</title>
   </head>
   <body>
      <header>{% block header %}Default Header{% endblock %}</header>
      <main>{% block content %}Default Content{% endblock %}</main>
      <footer>{% block footer %}Default Footer{% endblock %}</footer>
   </body>
   </html>
   {% endraw %}
   ```
   {: file="templates/base.html" }



